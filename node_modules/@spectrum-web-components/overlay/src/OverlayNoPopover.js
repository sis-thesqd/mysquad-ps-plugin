"use strict";import{firstFocusableIn as d,firstFocusableSlottedIn as p}from"@spectrum-web-components/shared/src/first-focusable-in.js";import{VirtualTrigger as u}from"./VirtualTrigger.js";import{BeforetoggleClosedEvent as f,BeforetoggleOpenEvent as v,forcePaint as h,guaranteedAllTransitionend as E,overlayTimer as s}from"./AbstractOverlay.js";export function OverlayNoPopover(l){class a extends l{async managePopoverOpen(){await this.managePosition()}async manageDelay(e){if(e===!1||e!==this.open){s.close(this);return}this.delayed&&await s.openTimer(this)&&(this.open=!e)}async ensureOnDOM(e){h()}async makeTransition(e){if(this.open!==e)return null;let o=null;const c=(t,r)=>()=>{if(e!==this.open)return;if(typeof t.open!="undefined"&&(t.open=e),r===0){const n=e?v:f;this.dispatchEvent(new n)}if(e!==!0||(o=o||d(t),o))return;t.querySelectorAll("slot").forEach(n=>{o||(o=p(n))})},m=(t,r)=>()=>{if(this.open!==e)return;const i=e?"sp-opened":"sp-closed";if(t.dispatchEvent(new CustomEvent(i,{bubbles:!1,composed:!1,detail:{interaction:this.type}})),r>0)return;const n=this.triggerElement instanceof u;this.dispatchEvent(new Event(i,{bubbles:n,composed:n})),this.triggerElement&&!n&&this.triggerElement.dispatchEvent(new CustomEvent(i,{bubbles:!0,composed:!0,detail:{interaction:this.type}})),this.state=e?"opened":"closed"};return this.elements.forEach((t,r)=>{E(t,c(t,r),m(t,r))}),o}}return a}
//# sourceMappingURL=OverlayNoPopover.js.map
